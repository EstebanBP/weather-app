(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,n,t){e.exports=t(45)},38:function(e,n,t){},45:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(8),i=t.n(o),c=(t(38),t(22)),l=t(23),u=t(30),s=t(24),d=t(31),m=t(4),p=t(10),f=t(26),g=t(17),y=t.n(g),h=t(27),w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=function(e){return w[e]},E=function(e){return Number.isNaN(e)||0===e?"":e>0?"+":"-"},x="data/2.5/weather",v="data/2.5/forecast",k={3117735:"madrid.png",3128760:"barcelona.jpg",5128581:"new york.jpg"},_=function(e){return k[e]||"generica.jpg"},I=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="".concat("http://api.openweathermap.org","/").concat(e);return n.APPID="65f9c37a11805cae899e71f4f60f67d8",n.units="metric",Object.keys(n).reduce(function(e,t,r){return"".concat(e).concat(0===r?"?":"&").concat(t,"=").concat(n[t])},t)},C=function(e){var n=e.name,t=e.sys.country,r=e.main,a=r.humidity,o=r.pressure,i=r.temp,c=e.wind.speed,l=e.weather,u=l&&l[0]||{};return{city:n,country:t,weather:{description:u.description,icon:u.icon,main:u.main},temperature:Math.round(i),wind:c,humidity:a,pressure:o}},j=function(e){for(var n,t=e.list,r=[],a=null,o=0;o<t.length;o++){var i=t[o],c=(n=i.dt,new Date(1e3*n)).getDay();a!==c?(r.push({weekDayName:b(c),items:[i]}),a=c):r[r.length-1].items.push(i)}return r.map(function(e){var n=e.weekDayName,t=e.items,r=t[Math.floor(t.length/2)],a=r.weather,o=r.main.temp,i=a[0].icon;return{weekDayName:n,temperature:Math.round(o),icon:i}})},N=function(){var e=Object(h.a)(y.a.mark(function e(n){var t,r,a,o,i;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(n);case 2:if(200===(t=e.sent).status){e.next=5;break}throw new Error(t.statusText||"unknown error");case 5:return e.next=7,t.json();case 7:return r=e.sent,a=r.id,e.next=11,O(a);case 11:if(200===(o=e.sent).status){e.next=14;break}throw new Error(o.statusText||"unknown error");case 14:return console.log({currentData:r}),e.next=17,o.json();case 17:return i=e.sent,e.abrupt("return",{imageUrl:_(r.id),currentInfo:C(r),weeklyInfo:j(i)});case 19:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}(),T=function(e){var n=I(x,{q:e});return fetch(n)},O=function(e){var n=I(v,{id:e});return fetch(n)},U={getCityWeather:N},z=t(5),D={FETCH_BY_CITY:"fetch_by_city",REQUEST_STARTED:"request_started",REQUEST_SUCCEED:"request_succeed",REQUEST_FAILED:"request_failed"};var S=function(e){var n=e;return function(t,r,a){var o=a.api;t(function(e){return{type:D.REQUEST_STARTED,payload:e}}(n)),o.getCityWeather(e).then(function(e){var r,a=e.imageUrl,o=e.currentInfo,i=e.weeklyInfo;t((r={searchText:n,imageUrl:a,currentInfo:o,weeklyInfo:i},{type:D.REQUEST_SUCCEED,payload:r}))}).catch(function(e){t(function(e){return{type:D.REQUEST_FAILED,payload:e}}(e))})}},R={imageUrl:"generica.jpg",searchText:null,currentInfo:null,weeklyInfo:null,loading:!1,error:null},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case D.REQUEST_STARTED:return Object(z.a)({},e,{loading:!0,searchText:n.payload,error:null});case D.REQUEST_FAILED:var t=n.payload,r="Error trying to search ".concat(e.searchText,": ").concat(t.message);return Object(z.a)({},e,{loading:!1,error:r});case D.REQUEST_SUCCEED:return Object(z.a)({},e,{loading:!1,error:null},n.payload);default:return e}},P=function(){return Object(p.c)(B,Object(p.a)(f.a.withExtraArgument({api:U})))},A=t(2),Q=A.a.div.withConfig({displayName:"header__Container",componentId:"i3zkpc-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;"]),W=A.a.p.withConfig({displayName:"header__H1",componentId:"i3zkpc-1"})(["font-size:1.5em;margin:0;"]),q=A.a.p.withConfig({displayName:"header__H2",componentId:"i3zkpc-2"})(["font-size:0.7em;"]),F=function(e){var n=e.city,t=e.country,r="".concat(n).concat(t?"("+t+")":"");return a.a.createElement(Q,null,a.a.createElement(W,null,r),a.a.createElement(q,null,(new Date).toDateString()))};F.defaultProps={city:"New York",country:null};var M=F,H=t(3),L=t(13),Y=t(0),J=function(e){var n=e.color,t=e.size,r=e.Icon,o=Object(L.a)(e,["color","size","Icon"]);return a.a.createElement(Y.b.Provider,{value:Object(z.a)({color:n,size:t},o)},a.a.createElement(r,null))};J.defaultProps={color:"white",size:"2em"};var K=J,$={main:"rgba(240, 255, 0, 1)",background:"rgba(240, 255, 0, ".concat(.05,")")},G={main:"rgba(236, 236, 236, 1)",background:"rgba(189, 195, 199, ".concat(.35,")")},V={main:"rgba(25, 181, 254, 1)",background:"rgba(25, 181, 254, ".concat(.05,")")},X={"01d":{icon:H.e,color:$},"01n":{icon:H.e,color:$},"02d":{icon:H.c,color:$},"02n":{icon:H.c,color:$},"03d":{icon:H.b,color:G},"03n":{icon:H.b,color:G},"04d":{icon:H.f,color:V},"04n":{icon:H.f,color:V},"09d":{icon:H.i,color:V},"09n":{icon:H.i,color:V},"10d":{icon:H.d,color:V},"10n":{icon:H.h,color:V},"11d":{icon:H.l,color:V},"11n":{icon:H.l,color:V},"13d":{icon:H.j,color:V},"13n":{icon:H.j,color:V},"50d":{icon:H.m,color:V},"50n":{icon:H.m,color:V}},Z=function(e){return X[e]},ee=function(e){var n=e.icon,t=Object(L.a)(e,["icon"]),r=function(e){var n=Z(e);return n?n.icon:null}(n);return a.a.createElement(K,Object(z.a)({Icon:r},t))};ee.defaultProps={color:"white",size:"2em"};var ne=ee,te=A.a.div.withConfig({displayName:"body__Container",componentId:"sc-1pml6gs-0"})(["display:flex;justify-content:center;flex-wrap:wrap;width:70%;"]),re=A.a.div.withConfig({displayName:"body__Part",componentId:"sc-1pml6gs-1"})(["flex:1 0 0;display:flex;justify-content:center;align-items:center;"]),ae=A.a.p.withConfig({displayName:"body__Temperature",componentId:"sc-1pml6gs-2"})(["font-size:5em;font-weight:200;margin:5px;text-align:center;"]),oe=A.a.div.withConfig({displayName:"body__IconContainer",componentId:"sc-1pml6gs-3"})(["display:flex;justify-content:center;"]),ie=A.a.div.withConfig({displayName:"body__InfoContainer",componentId:"sc-1pml6gs-4"})([""]),ce=A.a.div.withConfig({displayName:"body__Line",componentId:"sc-1pml6gs-5"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;"]),le=A.a.p.withConfig({displayName:"body__InfoText",componentId:"sc-1pml6gs-6"})(["margin:5px;white-space:nowrap;"]),ue=function(e){var n=e.text,t=e.icon;return a.a.createElement(ce,null,a.a.createElement(K,{Icon:t}),a.a.createElement(le,null,n))},se=function(e){var n=e.temperature,t=e.icon,r=e.humidity,o=e.pressure,i=e.wind,c=E(n);return a.a.createElement(te,null,a.a.createElement(re,null,a.a.createElement(ae,null,"".concat(c).concat(n,"\xb0"))),a.a.createElement(re,null,a.a.createElement(oe,null,a.a.createElement(ne,{size:"8em",icon:t}))),a.a.createElement(re,null,a.a.createElement(ie,null,a.a.createElement(ue,{text:"".concat(o," mm Hg"),icon:H.a}),a.a.createElement(ue,{text:"".concat(r,"% humidity"),icon:H.g}),a.a.createElement(ue,{text:"".concat(i,"m/s NW"),icon:H.k}))))};se.defaultProps={};var de=se,me=A.a.p.withConfig({displayName:"footer__WeatherText",componentId:"sc-1hmap2g-0"})(["background-color:",";padding:5px;border-radius:10px;font-size:0.8em;"],"rgba(100,100,100,0.8)"),pe=function(e){var n=e.text;return a.a.createElement(me,null,n)};pe.defaultProps={text:"Cloudy, Storm"};var fe=pe,ge=A.a.div.withConfig({displayName:"infoPanel__Container",componentId:"sc-1aocc1o-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;padding:50px 25px;background-image:url('","');background-repeat:no-repeat;background-size:cover;background-position:center center;"],function(e){return e.imageUrl}),ye=Object(m.b)(function(e){return{currentInfo:e.currentInfo,imageUrl:e.imageUrl}})(function(e){var n=e.imageUrl,t=e.currentInfo;if(!t)return null;var r=t.city,o=t.country,i=t.temperature,c=t.humidity,l=t.pressure,u=t.wind,s=t.weather,d=s.icon,m=s.description;return a.a.createElement(ge,{imageUrl:n},a.a.createElement(M,{city:r,country:o}),a.a.createElement(de,{temperature:i,icon:d,humidity:c,pressure:l,wind:u}),a.a.createElement(fe,{description:m}))}),he=t(14),we=A.a.div.withConfig({displayName:"day__Container",componentId:"sc-16n56e2-0"})(["flex:1;display:flex;flex-direction:column;align-items:center;justify-content:space-around;margin-left:1px;padding:15px;border-top:3px solid ",";background-color:",";"],function(e){return e.colors.main},function(e){return e.colors.background}),be=A.a.p.withConfig({displayName:"day__Title",componentId:"sc-16n56e2-1"})(["text-align:center;font-size:0.8em;"]),Ee=A.a.p.withConfig({displayName:"day__Temperature",componentId:"sc-16n56e2-2"})(["text-align:center;font-size:0.8em;"]),xe=function(e){var n=e.weekDayName,t=e.temperature,r=e.icon,o=E(t),i=function(e){var n=Z(e);return n&&n.color||{main:"blue",blurred:"rgba(0, 0, 50, 0.8)"}}(r);return a.a.createElement(we,{colors:i},a.a.createElement(be,null,n),a.a.createElement(ne,{icon:r,style:{borderRadius:"2em",backgroundColor:"rgba(100,100,100,0.6)",padding:"5px"}}),a.a.createElement(Ee,null,"".concat(o).concat(t,"\xb0")))};xe.defaultProps={temperature:null};var ve=xe;function ke(){var e=Object(he.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return ke=function(){return e},e}var _e=A.a.div(ke()),Ie=Object(m.b)(function(e){return{weeklyInfo:e.weeklyInfo}})(function(e){var n=e.weeklyInfo;return n?a.a.createElement(_e,null,n.map(function(e){return a.a.createElement(ve,Object.assign({key:e.weekDayName},e))})):null});function Ce(){var e=Object(he.a)(["\n  position: relative;\n  align-self: center;\n  margin: 5px;\n  animation: rotate 2s linear infinite;\n  width: 25px;\n  height: 25px;\n\n  & .path {\n    stroke: #5652bf;\n    stroke-linecap: round;\n    animation: dash 1.5s ease-in-out infinite;\n  }\n\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n"]);return Ce=function(){return e},e}var je=A.a.svg(Ce()),Ne=function(){return a.a.createElement(je,{viewBox:"0 0 50 50"},a.a.createElement("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"4"}))},Te=A.a.div.withConfig({displayName:"searchBar__Container",componentId:"sc-26uteq-0"})(["display:flex;width:40%;min-width:300px;min-height:40px;margin-bottom:30px;border-radius:20px;border:1px solid white;"]),Oe=A.a.input.withConfig({displayName:"searchBar__Input",componentId:"sc-26uteq-1"})(["flex:1;font-size:1em;padding-left:0.5em;background:transparent;border:none;&:focus{outline-width:0;}"]),Ue=Object(m.b)(function(e){return{loading:e.loading}},{fetchByCity:S})(function(e){var n=e.fetchByCity,t=e.loading,r=a.a.useCallback(function(e){if("Enter"===e.key){var t=e.target.value;t&&n(t)}},[n]);return a.a.createElement(Te,null,a.a.createElement(Oe,{placeholder:"Search city...",onKeyDown:r}),t&&a.a.createElement(Ne,null))}),ze=A.a.div.withConfig({displayName:"weatherInfo__AppWrapper",componentId:"sc-1ny5ofh-0"})(["min-height:100vh;display:flex;"]),De=A.a.div.withConfig({displayName:"weatherInfo__Container",componentId:"sc-1ny5ofh-1"})(["flex:1;display:flex;flex-direction:column;justify-content:space-around;align-items:center;z-index:3;padding:25px 0px 25px 0px;"]),Se=A.a.div.withConfig({displayName:"weatherInfo__Panel",componentId:"sc-1ny5ofh-2"})(["width:90%;"]),Re=A.a.div.withConfig({displayName:"weatherInfo__BackgroundBlurredImage",componentId:"sc-1ny5ofh-3"})(["position:fixed;top:-",";right:-",";bottom:-",";left:-",";z-index:1;background-image:url('","');background-repeat:no-repeat;background-size:cover;background-position:center center;-webkit-filter:blur(",");-moz-filter:blur(",");-o-filter:blur(",");-ms-filter:blur(",");filter:blur(",");"],"20px","20px","20px","20px",function(e){return e.imageUrl},"20px","20px","20px","20px","20px"),Be={fetchByCity:S},Pe=Object(m.b)(function(e){return Object(z.a)({},e)},Be)(function(e){var n=e.fetchByCity,t=e.imageUrl,r=e.error;return a.a.useEffect(function(){n("Madrid")},[n]),a.a.useEffect(function(){r&&window.alert(r)},[r]),a.a.createElement(ze,null,a.a.createElement(Re,{imageUrl:t}),a.a.createElement(De,null,a.a.createElement(Ue,null),a.a.createElement(Se,null,a.a.createElement(ye,null),a.a.createElement(Ie,null))))}),Ae=P(),Qe=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement(m.a,{store:Ae},a.a.createElement(Pe,null))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(Qe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.60c18893.chunk.js.map